# 题目
一定玩过八数码游戏，它实际上是在一个 3×3 的网格中进行的，1 个空格和 1∼8 这 8 个数字恰好不重不漏地分布在这 3×3 的网格中。

例如：
```
5 2 8
1 3 _
4 6 7
```
在游戏过程中，可以把空格与其上、下、左、右四个方向之一的数字交换（如果存在）。

例如在上例中，空格可与左、上、下面的数字交换，分别变成：
```
5 2 8       5 2 _      5 2 8
1 _ 3       1 3 8      1 3 7
4 6 7       4 6 7      4 6 _
```
奇数码游戏是它的一个扩展，在一个 n×n 的网格中进行，其中 n 为奇数，1 个空格和 1∼n<sup>2</sup>−1 这 n<sup>2</sup>−1 个数恰好不重不漏地分布在 n×n 的网格中。

空格移动的规则与八数码游戏相同，实际上，八数码就是一个 n=3 的奇数码游戏。

现在给定两个奇数码游戏的局面，请判断是否存在一种移动空格的方式，使得其中一个局面可以变化到另一个局面。

输入格式<br>
多组数据，对于每组数据：

第 1 行输入一个整数 n，n 为奇数。

接下来 n 行每行 n 个整数，表示第一个局面。

再接下来 n 行每行 n 个整数，表示第二个局面。

局面中每个整数都是 0∼n<sup>2</sup>−1 之一，其中用 0 代表空格，其余数值与奇数码游戏中的意义相同，保证这些整数的分布不重不漏。

输出格式<br>
对于每组数据，若两个局面可达，输出 TAK，否则输出 NIE。

数据范围<br>
1≤n<500<br>
输入样例：
```
3
1 2 3
0 4 6
7 5 8
1 2 3
4 5 6
7 8 0
1
0
0
```
输出样例：
```
TAK
TAK
```
# 参考答案
```c++
#include <bits/stdc++.h>
using namespace std;
const int N=510;
int n,m,a[N*N],b[N*N],c[N*N],i,j,k;
long long cnt;
void merge(int a[],int l,int r)
{
    if (r-l<1)
        return ;
    int mid=(l+r)>>1;
    merge(a,l,mid);
    merge(a,mid+1,r);
    int i=l,j=mid+1;
    for (int k=l; k<=r; k++)
    {
        if (j>r || i<=mid && a[i]<=a[j])
            b[k]=a[i++];
        else
        {
            cnt+=mid-i+1;
            b[k]=a[j++];
        }
    }
    for (int k=l; k<=r; k++)
        a[k]=b[k];
}
signed main()
{
    ios::sync_with_stdio(false);
//  freopen("stdin.in","r",stdin);
//  freopen("stdout.out","w",stdout);
    while(cin>>n)
    {
        int ok=0,x;
        for (i=1; i<=n*n; i++)
        {
            cin>>x;
            if (x==0)
                ok=1;
            else
                a[i-ok]=x;
        }
        ok=0;
        for (i=1; i<=n*n; i++)
        {
            cin>>x;
            if (x==0)
                ok=1;
            else
                c[i-ok]=x;
        }
        cnt=0;
        memset(b,0,sizeof(b));
        merge(a,1,n*n);
        long long ans=cnt;
        memset(b,0,sizeof(b));
        cnt=0;
        merge(c,1,n*n);
        if ((ans&1)==(cnt&1))
            puts("TAK");
        else
            puts("NIE");
    }
    return 0;
}
